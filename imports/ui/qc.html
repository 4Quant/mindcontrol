<template name="qc_modal">
<div class="modal modal-fullscreen" id="modal-fullscreen" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{modalData.name}}</h4>
      </div>
      <div class="modal-body">
        {{> Template.dynamic template="view_images" data=modalData}}
      </div>
      <div class="modal-footer">
          {{#with nextFile}}
    
    {{this.name}}
    
    {{/with}}
        <button type="button" class="btn btn-default" data-dismiss="modal" id="closemodal">Close</button>
      </div>
    </div>
  </div>
</div>
</template>

<template name="view_images">
    
<div id="viewer" width="500px"></div>
<br>

  <!--<button class="btn btn-default pial" data-toggle="collapse"
          data-target="#collapsePial" aria-expanded="false"
          aria-controls="collapsePial">Edits</button>
  <br><br>
  <div class="collapse" id="collapsePial">
      <kbd>

        pbr-recon-edits {{doc.name}}

      </kbd>



  </div>-->



    <div class="row">

    <div class="col-md-6">

<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Quality Check Status</h3>
  </div>
  <div class="panel-body">
    <strong>QC status:</strong> {{quality_check.QC}}
    <br>
    <strong>Last Checked At:</strong> {{checkedAt}}
    <br>
    <strong>Last Checked By:</strong> {{checkedBy}}
    <br>
    <strong>Notes:</strong> {{quality_check.notes_QC}}
    <br>

  </div>
</div>

  <div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Edit Quality Check</h3>
  </div>
  <div class="panel-body">


  <form id="QC_form" class="new-qc">

    <div class = "form-group">
        <div class="input-group">


    <div class="radio">
      <label>
        <input type="radio" name="QC" id="options_pass" value="1" checked>
        <strong>PASS</strong>
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="QC" id="options_fail" value="0">
        <strong>FAIL</strong>
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="QC" id="options_edit" value="2">
        <strong>NEEDS EDITS</strong>
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="QC" id="options_edited" value="3">
        <strong>EDITED</strong>
      </label>
    </div>
      </div>
      <div class="input-group">

    <label>Assign To: </label>
    <div class="form-group">
      <select id="user-assign" name="user_assign" width="100%" class="form-control">

          <option disabled="disabled" selected="selected">Assign To</option>
              {{#each user}}
                  <option value="{{this.username}}">{{this.username}}</option>
              {{/each}}
      </select>
    </div>

  <br>
      <label>
        Notes:</label> <textarea class="form-control" rows="3" width="100%" name="notes_QC"></textarea>

    </div>
    </div>
<br>
      <label>
          <button class="btn btn-success" type="submit">Save</button>
      </label>
  </form>

  </div>
</div>


    </div>
    <div class="col-md-6">

 <button class="btn btn-default swapmode"> {{currentMode}} </button>
<br><br>

        <div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Logged Points</h3>
  </div>
  <div class="panel-body">
    <table class="table table-hover table-striped">
          <tr>
            <th>Coordinate</th>
            <th>Annotation</th>
            <th>Logged By</th>
            <th></th>
          </tr>
        {{#each loggedPoints}}
          <tr>
            <td><a class="goto_coor"> {{this.world_coor.x}}, {{this.world_coor.y}}, {{this.world_coor.z}} </a> </td>
            <td>{{> xEditable type="text" success=onPointNote placement="right" value=this.note}}</td>
            <td>{{this.checkedBy}}</td>
            <td>
  <a class="remove-point"> <span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
</td>
          </tr>
        {{/each}}
        </table>
  </div>
   <div class="panel-footer">Shift+click to log points. Annotate points in the table above.</div>
</div>

        <div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Logged Contours</h3>
  </div>
  <div class="panel-body">
    <table class="table table-hover table-striped">
          <tr>
            <th>Coordinate</th>
            <th>Annotation</th>
            <th>Logged By</th>
            <th></th>
          </tr>
        {{#each loggedContours}}
          <tr>
            <td><a class="goto_cont"> {{this.name}} </a> </td>
            <td>{{> xEditable type="text" success=onContourNote placement="right" value=this.note}}</td>
            <td>{{this.checkedBy}}</td>
            <td>
  <a class="remove-contour"> <span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
</td>
          </tr>
        {{/each}}
        </table>
  </div>
   <div class="panel-footer">Shift+drag to log contours. Annotate contours in the table above.</div>
</div>


    </div>



    </div>
</template>